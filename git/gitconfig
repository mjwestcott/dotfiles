[core]
        excludesfile = ~/.gitignore_global
        pager = delta

[init]
        defaultBranch = main

[user]
        name = Matt Westcott
        email = m.westcott@gmail.com
        signingkey = A8FCAE14CFA47FDD

# Conditional includes for work repositories
[includeIf "gitdir/i:~/work/"]
        path = ~/.gitconfig-work

[includeIf "gitdir/i:~/repos/work/"]
        path = ~/.gitconfig-work

[commit]
        gpgsign = true
        verbose = true

[alias]
        discard = checkout --
        unstage = reset --
        uncommit = reset --soft HEAD~

        # Plurals...
        branches = branch -a
        stashes = stash list
        remotes = remote -v
        tags = tag

[apply]
        whitespace = warn

[color]
        ui = auto

[color "diff"]
        meta = yellow
        frag = magenta bold
        commit = yellow bold
        old = red
        new = green
        whitespace = red reverse

[delta]
        # Core settings
        navigate = true                          # use n and N to move between diff sections
        light = false                            # dark terminal background
        syntax-theme = zenburn

        # Layout
        side-by-side = false                     # set to true for side-by-side diffs
        line-numbers = true
        line-numbers-zero-style = "dim syntax"
        line-numbers-minus-style = "red"
        line-numbers-plus-style = "green"

        # File headers
        file-style = "yellow bold"
        file-decoration-style = "yellow ul"

        # Hunk headers
        hunk-header-style = "file line-number syntax"
        hunk-header-decoration-style = "cyan box dim"

        # Diff colors - subtle highlighting
        minus-style = "normal #503030"          # Subtle red background
        minus-emph-style = "normal #804848"     # Word-level changes - brighter red
        plus-style = "normal #2a462a"           # Subtle green background
        plus-emph-style = "normal #486048"      # Word-level changes - brighter green

        # Commit info
        commit-decoration-style = "yellow box"
        commit-style = "yellow bold"

[interactive]
        diffFilter = delta --color-only

[merge]
        conflictstyle = diff3

[diff]
        colorMoved = default
        newHighlight = green 22
        oldNormal = red

[diff]
        tool = vimdiff
        renames = copies  # Detect copies as well as renames.
        compactionHeuristic = true
        indentHeuristic = on

[difftool]
        prompt = false

[help]
        # Automatically correct and execute mistyped commands.
        autocorrect = 1

[merge]
        # Include summaries of merged commits in newly created merge commit messages.
        log = true

[push]
        default = simple

[pull]
	rebase = true

[rebase]
        updateRefs = true

[url "git@github.com:"]
        insteadOf = "https://github.com/"
        insteadOf = "git://github.com/"
        insteadOf = "github:"
        insteadOf = "gh:"

[url "git@gist.github.com:"]
        insteadOf = "https://gist.github.com/"
        insteadOf = "git://gist.github.com/"
        insteadOf = "gist:"

[filter "lfs"]
        clean = git-lfs clean -- %f
        smudge = git-lfs smudge -- %f
        process = git-lfs filter-process
        required = true
